<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45 'Lora',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Lora',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Lora',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:700;text-rendering:optimizeLegibility;font-size:3.157rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Lora',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:700;text-rendering:optimizeLegibility;font-size:1.99326rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Lora',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:700;text-rendering:optimizeLegibility;font-size:1.58383rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Lora',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Lora',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:700;text-rendering:optimizeLegibility;font-size:0.79459rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Lora',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:700;text-rendering:optimizeLegibility;font-size:0.7083rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><style data-href="/styles.636af936377d08a045aa.css">[data-reach-skip-link]{border:0;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute}[data-reach-skip-link]:focus{padding:1rem;position:fixed;top:10px;left:10px;background:#fff;z-index:1;width:auto;height:auto;clip:auto}@font-face{font-family:Lora;font-style:normal;font-display:swap;font-weight:400;src:local("Lora Regular "),local("Lora-Regular"),url(/static/lora-latin-400-e4cdb14bf148f2846997a6be7ba648bd.woff2) format("woff2"),url(/static/lora-latin-400-0d78d370987954fb6b9f0efec3065e83.woff) format("woff")}@font-face{font-family:Lora;font-style:italic;font-display:swap;font-weight:400;src:local("Lora Regular italic"),local("Lora-Regularitalic"),url(/static/lora-latin-400italic-2c4801fad2634e6dac678d8826cf417c.woff2) format("woff2"),url(/static/lora-latin-400italic-7beffbacbbde86423a7ee771f31c1626.woff) format("woff")}@font-face{font-family:Lora;font-style:normal;font-display:swap;font-weight:700;src:local("Lora Bold "),local("Lora-Bold"),url(/static/lora-latin-700-ce18d17335e3ef2119d76f5dff177c66.woff2) format("woff2"),url(/static/lora-latin-700-1617380e0dea667b61cf44e86f3d0f10.woff) format("woff")}@font-face{font-family:Lora;font-style:italic;font-display:swap;font-weight:700;src:local("Lora Bold italic"),local("Lora-Bolditalic"),url(/static/lora-latin-700italic-b4bb1fa2335d49d4bc7e7ddd944cee44.woff2) format("woff2"),url(/static/lora-latin-700italic-6ec37b950cf9829a2cad7d02b11810c9.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:normal;font-display:swap;font-weight:200;src:local("Source Sans Pro Extra Light "),local("Source Sans Pro-Extra Light"),url(/static/source-sans-pro-latin-200-d30190b81146365670a14117cefddec7.woff2) format("woff2"),url(/static/source-sans-pro-latin-200-a3bea45981594e21f3a107386ba1a219.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:italic;font-display:swap;font-weight:200;src:local("Source Sans Pro Extra Light italic"),local("Source Sans Pro-Extra Lightitalic"),url(/static/source-sans-pro-latin-200italic-dba63c770ee612903f861b4fa8bc5a2e.woff2) format("woff2"),url(/static/source-sans-pro-latin-200italic-9f7e37594212f66e41ed02e3ec504b8f.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:normal;font-display:swap;font-weight:300;src:local("Source Sans Pro Light "),local("Source Sans Pro-Light"),url(/static/source-sans-pro-latin-300-ede18477b85a5d781cd2f4001ecc5e67.woff2) format("woff2"),url(/static/source-sans-pro-latin-300-a5002963b0570a073e28156403c78670.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:italic;font-display:swap;font-weight:300;src:local("Source Sans Pro Light italic"),local("Source Sans Pro-Lightitalic"),url(/static/source-sans-pro-latin-300italic-c179c8f264df4b31eab6c71a532f7599.woff2) format("woff2"),url(/static/source-sans-pro-latin-300italic-f939f20b37caaa8e99bcd2e0ef22436c.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:normal;font-display:swap;font-weight:400;src:local("Source Sans Pro Regular "),local("Source Sans Pro-Regular"),url(/static/source-sans-pro-latin-400-899c8f78ce650d4009d42443897aa723.woff2) format("woff2"),url(/static/source-sans-pro-latin-400-5cc3aae674ea3b199313b3b83bd795bc.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:italic;font-display:swap;font-weight:400;src:local("Source Sans Pro Regular italic"),local("Source Sans Pro-Regularitalic"),url(/static/source-sans-pro-latin-400italic-dac2fca7ba8512baa24172f1171c961f.woff2) format("woff2"),url(/static/source-sans-pro-latin-400italic-86b2389fa562da6b9425271d1833d490.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:normal;font-display:swap;font-weight:600;src:local("Source Sans Pro SemiBold "),local("Source Sans Pro-SemiBold"),url(/static/source-sans-pro-latin-600-c85615b296302af51e683eecb5e371d4.woff2) format("woff2"),url(/static/source-sans-pro-latin-600-a75563d7b9e5b1db163971b9a2e66216.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:italic;font-display:swap;font-weight:600;src:local("Source Sans Pro SemiBold italic"),local("Source Sans Pro-SemiBolditalic"),url(/static/source-sans-pro-latin-600italic-ae24ed0c9a034d7c4098d3ddcdcb57f2.woff2) format("woff2"),url(/static/source-sans-pro-latin-600italic-c13797bd5e320111cf0af5c140ad9ee5.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:normal;font-display:swap;font-weight:700;src:local("Source Sans Pro Bold "),local("Source Sans Pro-Bold"),url(/static/source-sans-pro-latin-700-1a4bcb3ec9c508d478d4dbf6b56f6208.woff2) format("woff2"),url(/static/source-sans-pro-latin-700-b03f2ec28f8e60e61974dd8c57610e5b.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:italic;font-display:swap;font-weight:700;src:local("Source Sans Pro Bold italic"),local("Source Sans Pro-Bolditalic"),url(/static/source-sans-pro-latin-700italic-ac7f680ecb10b2d7d452560d91e617d6.woff2) format("woff2"),url(/static/source-sans-pro-latin-700italic-15776eec451ff4c88330cc66edd9e1e4.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:normal;font-display:swap;font-weight:900;src:local("Source Sans Pro Black "),local("Source Sans Pro-Black"),url(/static/source-sans-pro-latin-900-d8eab344801820b04142708a330623fc.woff2) format("woff2"),url(/static/source-sans-pro-latin-900-a6f749c85b751ef81fd99c6423c5ff4f.woff) format("woff")}@font-face{font-family:Source Sans Pro;font-style:italic;font-display:swap;font-weight:900;src:local("Source Sans Pro Black italic"),local("Source Sans Pro-Blackitalic"),url(/static/source-sans-pro-latin-900italic-f6a4e05514b656022c3ed8be7f81d256.woff2) format("woff2"),url(/static/source-sans-pro-latin-900italic-f20b423a121558d70c32160b86c9e21e.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.17.10"/><title data-react-helmet="true">Java Logging on Cloud Run with Stackdriver | Averi Kitsch</title><meta data-react-helmet="true" name="description" content="Java Logging on Cloud Run with Stackdriver"/><meta data-react-helmet="true" name="image" content="http://averi.dev/logos/logo-1024.png"/><meta data-react-helmet="true" name="gatsby-starter" content="Gatsby Starter Prismic"/><meta data-react-helmet="true" property="og:site_name" content="averi.kitsch"/><meta data-react-helmet="true" property="og:locale" content="en_US"/><meta data-react-helmet="true" property="og:url" content="http://averi.dev/java-logging-on-cloud-run-with-stackdriver"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Java Logging on Cloud Run with Stackdriver | Averi Kitsch"/><meta data-react-helmet="true" property="og:description" content="Java Logging on Cloud Run with Stackdriver"/><meta data-react-helmet="true" property="og:image" content="http://averi.dev/logos/logo-1024.png"/><meta data-react-helmet="true" property="og:image:alt" content="Java Logging on Cloud Run with Stackdriver"/><meta data-react-helmet="true" name="twitter:creator" content="@averikitsch"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Java Logging on Cloud Run with Stackdriver | Averi Kitsch"/><meta data-react-helmet="true" name="twitter:description" content="Java Logging on Cloud Run with Stackdriver"/><meta data-react-helmet="true" name="twitter:image" content="http://averi.dev/logos/logo-1024.png"/><meta data-react-helmet="true" name="twitter:image:alt" content="Java Logging on Cloud Run with Stackdriver"/><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"Article","author":{"@type":"Person","name":"averikitsch"},"copyrightHolder":{"@type":"Person","name":"averikitsch"},"copyrightYear":"2019","creator":{"@type":"Person","name":"averikitsch"},"publisher":{"@type":"Organization","name":"averikitsch","logo":{"@type":"ImageObject","url":"http://averi.dev/logos/logo-1024.png"}},"datePublished":"2020-01-29T23:16:04+0000","dateModified":"2020-01-29T23:55:34+0000","description":"Java Logging on Cloud Run with Stackdriver","headline":"Java Logging on Cloud Run with Stackdriver | Averi Kitsch","inLanguage":"en","url":"http://averi.dev/java-logging-on-cloud-run-with-stackdriver","name":"Java Logging on Cloud Run with Stackdriver | Averi Kitsch","image":{"@type":"ImageObject","url":"http://averi.dev/logos/logo-1024.png"},"mainEntityOfPage":"http://averi.dev/java-logging-on-cloud-run-with-stackdriver"}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","description":"Breadcrumbs list","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","item":{"@id":"http://averi.dev","name":"Homepage"},"position":1},{"@type":"ListItem","item":{"@id":"http://averi.dev/java-logging-on-cloud-run-with-stackdriver","name":"Java Logging on Cloud Run with Stackdriver | Averi Kitsch"},"position":2}]}</script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/icons/icon-48x48.png?v=5f721995267869f8d7aff98a683fe61e"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#3D63AE"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=5f721995267869f8d7aff98a683fe61e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=5f721995267869f8d7aff98a683fe61e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=5f721995267869f8d7aff98a683fe61e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=5f721995267869f8d7aff98a683fe61e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=5f721995267869f8d7aff98a683fe61e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=5f721995267869f8d7aff98a683fe61e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=5f721995267869f8d7aff98a683fe61e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=5f721995267869f8d7aff98a683fe61e"/><link as="script" rel="preload" href="/webpack-runtime-0b9f3e48a98a9d0d55e9.js"/><link as="script" rel="preload" href="/app-7920c2a325c7aff94430.js"/><link as="script" rel="preload" href="/styles-163a5674baa72609f589.js"/><link as="script" rel="preload" href="/commons-14339a906420939b8144.js"/><link as="script" rel="preload" href="/component---src-templates-post-jsx-88b90c986be220115609.js"/><link as="fetch" rel="preload" href="/page-data/java-logging-on-cloud-run-with-stackdriver/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><style data-emotion-css="csf8xf">*,*:before,*:after{box-sizing:inherit;}html{text-rendering:optimizeLegibility;overflow-x:hidden;box-sizing:border-box;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:rgba(0,0,0,0);}[tabindex='-1']:focus{outline:none !important;}pre{margin-top:0;margin-bottom:1rem;overflow:auto;}figure{margin:0 0 1rem 0;}img{vertical-align:middle;}[role='button']{cursor:pointer;}a,area,button,[role='button'],input,label,select,summary,textarea{touch-action:manipulation;}table{border-collapse:collapse;background-color:#fff;}caption{padding-top:1.5rem;padding-bottom:1.5rem;color:#fff;text-align:center;caption-side:bottom;}th{text-align:left;}label{display:inline-block;margin-bottom:0.5rem;}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color;}input,button,select,textarea{line-height:inherit;}input[type='date'],input[type='time'],input[type='datetime-local'],input[type='month']{-webkit-appearance:listbox;}textarea{resize:vertical;}fieldset{min-width:0;padding:0;margin:0;border:0;}legend{display:block;width:100%;padding:0;margin-bottom:0.5rem;font-size:1.5rem;line-height:inherit;}input[type='search']{-webkit-appearance:none;}output{display:inline-block;}svg:not(:root){overflow:hidden;vertical-align:middle;}[hidden]{display:none !important;}h1,h2,h3,h4,h5,h6{color:#000;}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}body{color:#1c252b;background-color:#fff;}::selection{color:#fff;background-color:#3D63AE;}a{color:#3D63AE;-webkit-transition:all 0.4s ease-in-out;transition:all 0.4s ease-in-out;-webkit-text-decoration:none;text-decoration:none;font-weight:700;font-style:italic;}a:hover,a:focus{-webkit-text-decoration:underline;text-decoration:underline;}@media (max-width:900px){html{font-size:16px !important;}}@media (max-width:600px){h1{font-size:2.369rem !important;}h2{font-size:1.777rem !important;}h3{font-size:1.333rem !important;}h4{font-size:1rem !important;}h5{font-size:0.75rem !important;}h6{font-size:0.563rem !important;}}</style><a href="#reach-skip-nav" data-reach-skip-link="true">Skip to content</a><style data-emotion-css="1i6ctib">.css-1i6ctib{background-color:#EBEDF2;padding-top:1rem;padding-bottom:4rem;}</style><header class="css-1i6ctib e1kskcj30"><style data-emotion-css="1y801jg">.css-1y801jg{max-width:1000px;margin:0 auto;padding:0 2rem;}@media (max-width:900px){.css-1y801jg{padding:0 1.5rem;}}</style><div class="css-1y801jg e1aqzq6h0"><style data-emotion-css="wbe2ly">.css-wbe2ly{padding-bottom:2rem;}.css-wbe2ly a{color:#303643;font-weight:400;font-style:normal;font-family:'Source Sans Pro',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';}</style><nav class="css-wbe2ly e1on658h0"><a aria-label="Back to Home" href="/">Averi Kitsch</a></nav><style data-emotion-css="1ogree7">.css-1ogree7{font-family:'Source Sans Pro',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';color:#595C62;font-size:1.25rem;}.css-1ogree7 a{font-style:normal;font-weight:normal;}</style><p class="css-1ogree7 e1kskcj31">29.01.2020<!-- --> — <a href="/categories/google-cloud-platform">Google Cloud Platform</a>, <a href="/categories/java">Java</a></p><h1>Java Logging on Cloud Run with Stackdriver</h1></div></header><style data-emotion-css="1y801jg">.css-1y801jg{max-width:1000px;margin:0 auto;padding:0 2rem;}@media (max-width:900px){.css-1y801jg{padding:0 1.5rem;}}</style><main id="reach-skip-nav" class="css-1y801jg e1kskcj32"><style data-emotion-css="34q5el">.css-34q5el{padding:6rem 0;}.css-34q5el code[class*='language-'],.css-34q5el pre[class*='language-']{font-family:Consolas,Menlo,Monaco,'Andale Mono WT','Andale Mono','Lucida Console','Lucida Sans Typewriter','DejaVu Sans Mono','Bitstream Vera Sans Mono','Liberation Mono','Nimbus Mono L','Courier New',Courier,monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#f5f7ff;color:#5e6687;}.css-34q5el pre[class*='language-']::-moz-selection,.css-34q5el pre[class*='language-']::-moz-selection,.css-34q5el code[class*='language-']::-moz-selection,.css-34q5el code[class*='language-']::-moz-selection{text-shadow:none;background:#dfe2f1;}.css-34q5el pre[class*='language-']::selection,.css-34q5el pre[class*='language-']::selection,.css-34q5el code[class*='language-']::selection,.css-34q5el code[class*='language-']::selection{text-shadow:none;background:#dfe2f1;}.css-34q5el pre[class*='language-']{padding:1em;margin:0.5em 0;overflow:auto;}.css-34q5el:not(pre) > code[class*='language-']{padding:0.1em;border-radius:0.3em;}.css-34q5el .token.comment,.css-34q5el .token.prolog,.css-34q5el .token.doctype,.css-34q5el .token.cdata{color:#898ea4;}.css-34q5el .token.punctuation{color:#5e6687;}.css-34q5el .token.namespace{opacity:0.7;}.css-34q5el .token.operator,.css-34q5el .token.boolean,.css-34q5el .token.number{color:#c76b29;}.css-34q5el .token.property{color:#c08b30;}.css-34q5el .token.tag{color:#3d8fd1;}.css-34q5el .token.string{color:#22a2c9;}.css-34q5el .token.selector{color:#6679cc;}.css-34q5el .token.attr-name{color:#c76b29;}.css-34q5el .token.entity,.css-34q5el .token.url,.css-34q5el .language-css .token.string,.css-34q5el .style .token.string{color:#22a2c9;}.css-34q5el .token.attr-value,.css-34q5el .token.keyword,.css-34q5el .token.control,.css-34q5el .token.directive,.css-34q5el .token.unit{color:#ac9739;}.css-34q5el .token.statement,.css-34q5el .token.regex,.css-34q5el .token.atrule{color:#22a2c9;}.css-34q5el .token.placeholder,.css-34q5el .token.variable{color:#3d8fd1;}.css-34q5el .token.deleted{-webkit-text-decoration:line-through;text-decoration:line-through;}.css-34q5el .token.inserted{border-bottom:1px dotted #202746;-webkit-text-decoration:none;text-decoration:none;}.css-34q5el .token.italic{font-style:italic;}.css-34q5el .token.important,.css-34q5el .token.bold{font-weight:bold;}.css-34q5el .token.important{color:#c94922;}.css-34q5el .token.entity{cursor:help;}.css-34q5el pre > code.highlight{outline:0.4em solid #c94922;outline-offset:0.4em;}.css-34q5el .line-numbers .line-numbers-rows{border-right-color:#dfe2f1;}.css-34q5el .line-numbers-rows > span:before{color:#979db4;}.css-34q5el p,.css-34q5el li{-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;--baseline-multiplier:0.179;--x-height-multiplier:0.35;font-size:21px;line-height:1.58;}.css-34q5el p code,.css-34q5el li code{padding:0.2rem 0.5rem;margin:0.5rem 0;}.css-34q5el blockquote{margin-left:0;padding-left:1.45rem;border-left:2px solid #3D63AE;}.css-34q5el blockquote p{font-size:19px;font-style:italic;}</style><div class="css-34q5el e1w59c930"><style data-emotion-css="1652yal">.css-1652yal{max-width:720px;}</style><div class="css-1652yal e1l568tk0"><p><em>This post was originally posted on <a  href="https://https://medium.com/google-cloud/java-logging-on-cloud-run-with-stackdriver-9786d6fdbe17">Medium</a>.</em></p><p>In the age of microservices, adequate logging and tracing are even more critical for monitoring and debugging your services. When working with containers, there’s an added layer of complexity due to the flexibility and ephemerality of containers. A user must think about how to get info “out of the container” by mounting a persistent volume. However you’re in luck! Similar to other Google Cloud Platform (GCP) compute products, the <a target="_blank" rel="noopener" href="https://cloud.google.com/logging/docs/agent/">Stackdriver logging agent</a> is built into the Cloud Run environment, so your logs automatically get piped and consolidated into <a target="_blank" rel="noopener" href="http://console.cloud.google.com/logs">Stackdriver</a>.</p><p>This blog post will cover Java logging on Cloud Run, though these concepts can be applied to the Google App Engine (GAE). We will discuss how different log types look in Stackdriver and the associated product Error Reporting, along with how to upgrade your logs with trace Ids.</p><p>Let’s start at the beginning. Any logs written to standard out and standard error will show up in your Stackdriver logs, but without any additional information or functionality.</p><pre>System.out.println(“This log was made with System.out.println”);
System.err.println(“This log was made with System.err.println”);</pre></div><style data-emotion-css="xpq1nk">.css-xpq1nk{padding-top:1.5rem;padding-bottom:1.5rem;}</style><div class="css-xpq1nk e3wv66w0"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:5.499999999999999%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAABABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3KFB/8QAFhAAAwAAAAAAAAAAAAAAAAAAAAEQ/9oACAEBAAEFAhT/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAVEAEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAQABPyFr/9oADAMBAAIAAwAAABDzz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABYQAQEBAAAAAAAAAAAAAAAAAAABMf/aAAgBAQABPxAzVf/Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/ebb2f/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.webp 300w,
/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/fabdf/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.webp 600w,
/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/f9d14/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><source srcset="/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/00384/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.jpg 300w,
/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/9429d/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.jpg 600w,
/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/c4f3a/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.jpg 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><img loading="lazy" sizes="(max-width: 1200px) 100vw, 1200px" srcset="/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/00384/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.jpg 300w,
/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/9429d/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.jpg 600w,
/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/c4f3a/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.jpg 1200w" src="/static/723dc3cb0ff38a2cc3c39e32d0a99ccb/c4f3a/09f5f91c-0dac-4a5c-bdc2-45679f4dd1a0_simple-log.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><div class="css-1652yal e1l568tk0"><p>This is the same functionality that you will get when using frameworks such as java.util.logging, log4j2, or slf4j without any additional configuration. With all of these frameworks, we can start with some basic logging tips:</p><ol><li>Set the severity of your log message. Setting the severity can help you filter your logs, visually find log entries, and set up metrics and alerts.</li><li>Add a clear and actionable error message. Don’t hate yourself later when you’re trying to debug.</li><li>Add a stack trace (as a Throwable). Any bit of additional information on where the error is coming from is better than none!</li></ol><pre>utilLogger.log(Level.INFO, “Error report INFO with java.util.logging”, e);
utilLogger.log(Level.SEVERE, “Error report ERROR with java.util.logging”, e);
slf4jLogger.info(“Error report INFO with Logback”, e);
slf4jLogger.error(“Error report ERROR with Logback”, e);</pre></div><div class="css-1652yal e1l568tk0"><p>Passing a throwable means you get the benefits of Stackdriver Error Reporting! Error Reporting aggregates and displays errors produced in your running cloud services in order to provide real-time exception monitoring and alerting.</p></div><div class="css-xpq1nk e3wv66w0"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:20.916666666666664%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3aAD/8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABBQJ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFRABAQAAAAAAAAAAAAAAAAAAEDH/2gAIAQEAAT8hj//aAAwDAQACAAMAAAAQgA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAZEAEAAgMAAAAAAAAAAAAAAAABADEQUYH/2gAIAQEAAT8QoAXuU8x//9k=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/91b39f43cc9405722d510c09022f5b8a/ebb2f/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.webp 300w,
/static/91b39f43cc9405722d510c09022f5b8a/fabdf/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.webp 600w,
/static/91b39f43cc9405722d510c09022f5b8a/f9d14/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><source srcset="/static/91b39f43cc9405722d510c09022f5b8a/00384/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.jpg 300w,
/static/91b39f43cc9405722d510c09022f5b8a/9429d/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.jpg 600w,
/static/91b39f43cc9405722d510c09022f5b8a/c4f3a/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.jpg 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><img loading="lazy" sizes="(max-width: 1200px) 100vw, 1200px" srcset="/static/91b39f43cc9405722d510c09022f5b8a/00384/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.jpg 300w,
/static/91b39f43cc9405722d510c09022f5b8a/9429d/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.jpg 600w,
/static/91b39f43cc9405722d510c09022f5b8a/c4f3a/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.jpg 1200w" src="/static/91b39f43cc9405722d510c09022f5b8a/c4f3a/b2aa03f8-e09d-4dda-936c-00908ad5a9d3_error-reporting.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><div class="css-1652yal e1l568tk0"><p>For App Engine, Google offers additional library support for <a target="_blank" rel="noopener" href="https://cloud.google.com/logging/docs/setup/java">logging to Stackdriver</a> with the Logback appender and JUL (`java.uti.logging`) handler. That allows for the log level to be correctly parsed as well as additional configuration to be added like severity thresholds, log name, and enhancers. The <a target="_blank" rel="noopener" href="https://github.com/GoogleCloudPlatform/java-docs-samples/tree/master/logging/logback">default configuration</a> on GAE would result in these logs in the Stackdriver console:</p></div><div class="css-xpq1nk e3wv66w0"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:5.583333333333334%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAABABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB27AD/8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABBQJ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAGBAAAgMAAAAAAAAAAAAAAAAAAAEQMUH/2gAIAQEAAT8hwVR//9oADAMBAAIAAwAAABDzz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABcQAAMBAAAAAAAAAAAAAAAAAAABMXH/2gAIAQEAAT8QcE8HT//Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/50afc199f0ee3b7abbe0091e059c482c/ebb2f/0e26848d-99a9-4534-85c1-df004979d05b_log.webp 300w,
/static/50afc199f0ee3b7abbe0091e059c482c/fabdf/0e26848d-99a9-4534-85c1-df004979d05b_log.webp 600w,
/static/50afc199f0ee3b7abbe0091e059c482c/f9d14/0e26848d-99a9-4534-85c1-df004979d05b_log.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><source srcset="/static/50afc199f0ee3b7abbe0091e059c482c/00384/0e26848d-99a9-4534-85c1-df004979d05b_log.jpg 300w,
/static/50afc199f0ee3b7abbe0091e059c482c/9429d/0e26848d-99a9-4534-85c1-df004979d05b_log.jpg 600w,
/static/50afc199f0ee3b7abbe0091e059c482c/c4f3a/0e26848d-99a9-4534-85c1-df004979d05b_log.jpg 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><img loading="lazy" sizes="(max-width: 1200px) 100vw, 1200px" srcset="/static/50afc199f0ee3b7abbe0091e059c482c/00384/0e26848d-99a9-4534-85c1-df004979d05b_log.jpg 300w,
/static/50afc199f0ee3b7abbe0091e059c482c/9429d/0e26848d-99a9-4534-85c1-df004979d05b_log.jpg 600w,
/static/50afc199f0ee3b7abbe0091e059c482c/c4f3a/0e26848d-99a9-4534-85c1-df004979d05b_log.jpg 1200w" src="/static/50afc199f0ee3b7abbe0091e059c482c/c4f3a/0e26848d-99a9-4534-85c1-df004979d05b_log.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><div class="css-1652yal e1l568tk0"><p>Unfortunately, Cloud Run has a slightly different <a target="_blank" rel="noopener" href="https://cloud.google.com/appengine/docs/standard/java11/runtime">runtime environment</a> from App Engine; therefore these integrations don’t work out of the box. You can easily regain this functionality by upgrading to JSON formatted logs using <a target="_blank" rel="noopener" href="http://logback.qos.ch/">Logback</a>, which means you can continue to use its native interface, Simple Logging Facade for Java (SLF4J).</p><p>Your Logback configuration must append to the console. Here we use the appender `ch.qos.logback.core.ConsoleAppender`. Then using the encoder `<a target="_blank" rel="noopener" href="https://github.com/logstash/logstash-logback-encoder">net.logstash.logback.encoder.LogstashEncode</a>` allows for the transformation to JSON format.</p><pre>&lt;configuration&gt;
  &lt;appender name=&quot;jsonConsoleAppender&quot;
      class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;
    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;
      &lt;fieldNames&gt;
        &lt;timestamp&gt;[ignore]&lt;/timestamp&gt;
        &lt;version&gt;[ignore]&lt;/version&gt;
        &lt;logger&gt;[ignore]&lt;/logger&gt;
        &lt;thread&gt;[ignore]&lt;/thread&gt;
        &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;
      &lt;/fieldNames&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;
  &lt;root level=&quot;INFO&quot;&gt;
    &lt;appender-ref ref=&quot;jsonConsoleAppender&quot;/&gt;
  &lt;/root&gt;
&lt;/configuration&gt;</pre></div><div class="css-1652yal e1l568tk0"><p>This configuration ignores additional default fields that are unneeded. The dependencies needed are:</p><pre>&lt;dependency&gt;
  &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;
  &lt;version&gt;5.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
  &lt;version&gt;1.2.3&lt;/version&gt;
&lt;/dependency&gt;</pre><p>Using JSON as your log format also allows for structured logging, which means you can add more readable/parseable information to your logs for debugging purposes. The traditional way is to use the Mapped Diagnostic Context (MDC), provided by all major logging frameworks. In order for Stackdriver to parse the log level, we must add it as the severity field.</p><pre>MDC.put(“severity”, “ERROR”);
logger.error(“Logging ERROR with Logback”);
MDC.remove(“severity”);</pre><p>Using the `logstash-logback-encoder` library allows for event specific custom fields, which means we can add key-value `<a target="_blank" rel="noopener" href="https://github.com/logstash/logstash-logback-encoder/blob/logstash-logback-encoder-5.2/src/main/java/net/logstash/logback/argument/StructuredArguments.java">StructuredArguments</a>` to our JSON logs. This makes it easier and cleaner to add multiple log-specific fields.</p><pre>logger.info(“Logging INFO with Logback”,
            kv(“severity”, “NOTICE”),
            kv(“component”, “arbitrary-property”));</pre><p>Using `StructuredArguments` or `MDC`, we can also append the trace Id to the log using the specific JSON field `logging.googleapis.com/trace`. Learn more about <a target="_blank" rel="noopener" href="https://cloud.google.com/logging/docs/agent/configuration#special-fields">special fields</a> for structured payloads.</p><pre>String traceHeader = req.headers(&quot;x-cloud-trace-context&quot;);
String trace = traceHeader.split(&quot;/&quot;)[0];
logger.info(&quot;Logging with trace Id&quot;,
           kv(“severity”, “DEBUG”),
           kv(“logging.googleapis.com/trace”,
           String.format(“projects/%s/traces/%s”, project, trace)));</pre><p>In the Stackdriver logs viewer, logs correlated by the same trace are viewable in “parent-child” format: when you click on the triangle icon at the left of the request log entry, the container logs related to that request show up nested under the request log.</p></div><div class="css-xpq1nk e3wv66w0"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:24.416666666666668%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAd2iAP/EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABUQAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEBAAE/IUR//9oADAMBAAIAAwAAABCIL//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxCIiP/EABkQAQADAQEAAAAAAAAAAAAAAAEAEVExkf/aAAgBAQABPxAC+HkBhKZP/9k=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/688f5b41528c9d76cd3ef2912952da05/ebb2f/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.webp 300w,
/static/688f5b41528c9d76cd3ef2912952da05/fabdf/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.webp 600w,
/static/688f5b41528c9d76cd3ef2912952da05/f9d14/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.webp 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><source srcset="/static/688f5b41528c9d76cd3ef2912952da05/00384/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.jpg 300w,
/static/688f5b41528c9d76cd3ef2912952da05/9429d/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.jpg 600w,
/static/688f5b41528c9d76cd3ef2912952da05/c4f3a/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.jpg 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><img loading="lazy" sizes="(max-width: 1200px) 100vw, 1200px" srcset="/static/688f5b41528c9d76cd3ef2912952da05/00384/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.jpg 300w,
/static/688f5b41528c9d76cd3ef2912952da05/9429d/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.jpg 600w,
/static/688f5b41528c9d76cd3ef2912952da05/c4f3a/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.jpg 1200w" src="/static/688f5b41528c9d76cd3ef2912952da05/c4f3a/4e0d3f6b-5d78-4143-8fa6-d7be44291961_trace.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><div class="css-1652yal e1l568tk0"><p>Logback is also the default logging configuration for Spring Boot applications and using the logging starter with <a target="_blank" rel="noopener" href="https://github.com/spring-cloud/spring-cloud-gcp/blob/master/spring-cloud-gcp-logging/src/main/resources/org/springframework/cloud/gcp/logging/logback-json-appender.xml">JSON appender</a> makes it easy to integrate with GCP. Using this appender resource, it is unnecessary to specify the severity as a part of the log message.</p><pre>&lt;configuration&gt;
  &lt;include resource=
 &quot;org/springframework/cloud/gcp/logging/logback-json-appender.xml&quot;/&gt;
   &lt;root level=”INFO”&gt;
       &lt;appender-ref ref=&quot;CONSOLE_JSON&quot;/&gt;
   &lt;/root&gt;
&lt;/configuration&gt;</pre><p>Don’t leave logging to the last minute! Stackdriver gives you a centralized system to access all your logs across your GCP services. Get the most out of your logs and Stackdriver by using structuring your logs in JSON and adding contextual metadata for easier troubleshooting.</p><p><strong>Next Steps</strong></p><ul><li>Check out the official documentation for <a target="_blank" rel="noopener" href="https://cloud.google.com/run/docs/logging">logging and viewing logs</a> on Cloud Run.</li><li>Learn more about <a target="_blank" rel="noopener" href="https://cloud.google.com/logging/docs/logs-based-metrics/charts-and-alerts">creating charts and alerts</a> in Stackdriver.</li><li>Follow a tutorial on <a target="_blank" rel="noopener" href="https://cloud.google.com/run/docs/tutorials/local-troubleshooting">local troubleshooting of a Cloud Run service</a>.</li></ul></div></div><style data-emotion-css="5tby65">.css-5tby65{font-style:italic;font-size:1.4444rem;position:relative;}.css-5tby65:before{content:'';width:3rem;height:1px;background-color:#595C62;display:inline-block;position:absolute;top:50%;left:-80px;}@media (max-width:1200px){.css-5tby65:before{width:1.5rem;left:-40px;}}@media (max-width:900px){.css-5tby65:before{width:1.5rem;left:-35px;}}</style><p style="margin-top:4rem" class="css-5tby65 ekngg0x0">Recent posts</p><style data-emotion-css="1so16pf">.css-1so16pf{margin-top:4rem;margin-bottom:4rem;list-style-type:none;margin-left:0;}</style><ul class="css-1so16pf exvr8fz0"><style data-emotion-css="lwdzql">.css-lwdzql{margin-bottom:1.45rem;}</style><li class="css-lwdzql e19iej8a0"><style data-emotion-css="7x2lk6">.css-7x2lk6{font-family:'Source Sans Pro',-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';color:#595C62;margin-bottom:0;}.css-7x2lk6 a{color:#595C62;font-style:normal;font-weight:normal;}</style><p class="css-7x2lk6 e19iej8a1">12.11.2019<!-- --> — <a href="/categories/personal">Personal</a></p><style data-emotion-css="1t6g7t7">.css-1t6g7t7{font-size:2.369rem;color:#000;font-style:normal;}@media (max-width:600px){.css-1t6g7t7{font-size:1.777rem;}}</style><a class="css-1t6g7t7 e19iej8a2" href="/welcome">Welcome</a></li></ul></main><style data-emotion-css="1r2njye">.css-1r2njye{max-width:1000px;margin:6rem auto 0 auto;padding:2rem;color:#595C62;}</style><footer class="css-1r2njye e17iqk770"><div><p></p></div></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-152171209-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/java-logging-on-cloud-run-with-stackdriver";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-7920c2a325c7aff94430.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-a7388efdc62430243a75.js"],"component---src-templates-post-jsx":["/component---src-templates-post-jsx-88b90c986be220115609.js"],"component---src-templates-category-jsx":["/component---src-templates-category-jsx-b9642cc1487483d17f1e.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-cfdf598abc2112ba1610.js"]};/*]]>*/</script><script src="/component---src-templates-post-jsx-88b90c986be220115609.js" async=""></script><script src="/commons-14339a906420939b8144.js" async=""></script><script src="/styles-163a5674baa72609f589.js" async=""></script><script src="/app-7920c2a325c7aff94430.js" async=""></script><script src="/webpack-runtime-0b9f3e48a98a9d0d55e9.js" async=""></script></body></html>